---
interface Props {
  heading: string
  text?: string
  primaryButtonText?: string
  primaryButtonLink?: string
  secondaryButtonText?: string
  secondaryButtonLink?: string
  backgroundColor?: 'primary' | 'secondary' | 'light' | 'dark'
}

const {
  heading,
  text,
  primaryButtonText,
  primaryButtonLink,
  secondaryButtonText,
  secondaryButtonLink,
  backgroundColor = 'primary'
} = Astro.props

const bgClasses = {
  primary: 'bg-gradient-primary text-white',
  secondary: 'bg-gray-100',
  light: 'bg-gray-50',
  dark: 'bg-black text-white'
}

const headingClasses = {
  primary: 'text-white',
  secondary: 'text-primary-fallback',
  light: 'text-primary-fallback',
  dark: 'text-white'
}

const baseButtonClasses =
  'inline-block rounded-pill py-space-xs px-space-m font-medium no-underline transition-all duration-200'

const primaryButtonClasses = {
  primary: `${baseButtonClasses} bg-white text-primary hover:opacity-90`,
  secondary: `${baseButtonClasses} bg-primary text-white`,
  light: `${baseButtonClasses} bg-primary text-white`,
  dark: `${baseButtonClasses} bg-primary text-white`
}

const secondaryButtonClasses = {
  primary: `${baseButtonClasses} bg-transparent border-2 border-white text-white hover:bg-white hover:text-primary`,
  secondary: `${baseButtonClasses} bg-transparent border-2 border-primary text-primary`,
  light: `${baseButtonClasses} bg-transparent border-2 border-primary text-primary`,
  dark: `${baseButtonClasses} bg-transparent border-2 border-white text-white`
}
---

<section class={`py-space-xl px-space-m text-center ${bgClasses[backgroundColor]}`}>
  <div class="max-w-narrow mx-auto">
    <h2 class={`text-[2rem] font-semibold mb-space-s ${headingClasses[backgroundColor]}`}>
      {heading}
    </h2>
    {text && <p class="text-[1.125rem] mb-space-m opacity-90">{text}</p>}
    {
      (primaryButtonText || secondaryButtonText) && (
        <div class="flex flex-wrap justify-center gap-space-s">
          {primaryButtonText && primaryButtonLink && (
            <a
              href={primaryButtonLink}
              class={primaryButtonClasses[backgroundColor]}
            >
              {primaryButtonText}
            </a>
          )}
          {secondaryButtonText && secondaryButtonLink && (
            <a
              href={secondaryButtonLink}
              class={secondaryButtonClasses[backgroundColor]}
            >
              {secondaryButtonText}
            </a>
          )}
        </div>
      )
    }
  </div>
</section>
