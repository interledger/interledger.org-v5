---
interface Props {
  heading: string
  text?: string
  primaryButtonText?: string
  primaryButtonLink?: string
  secondaryButtonText?: string
  secondaryButtonLink?: string
  backgroundColor?: 'primary' | 'secondary' | 'light' | 'dark'
}

const {
  heading,
  text,
  primaryButtonText,
  primaryButtonLink,
  secondaryButtonText,
  secondaryButtonLink,
  backgroundColor = 'primary'
} = Astro.props

const bgClasses = {
  primary: 'bg-gradient-primary text-white',
  secondary: 'bg-gray-100',
  light: 'bg-gray-50',
  dark: 'bg-black text-white'
}

const headingClasses = {
  primary: 'text-white',
  secondary: 'text-primary-fallback',
  light: 'text-primary-fallback',
  dark: 'text-white'
}
---

<section class={`py-space-xl px-space-m text-center ${bgClasses[backgroundColor]}`}>
  <div class="max-w-narrow mx-auto">
    <h2 class={`text-[2rem] font-semibold mb-space-s ${headingClasses[backgroundColor]}`}>
      {heading}
    </h2>
    {text && <p class="text-[1.125rem] mb-space-m opacity-90">{text}</p>}
    {
      (primaryButtonText || secondaryButtonText) && (
        <div class="flex flex-wrap justify-center gap-space-s">
          {primaryButtonText && primaryButtonLink && (
            <a
              href={primaryButtonLink}
              class={`cta-btn cta-btn--primary cta-btn--${backgroundColor}`}
            >
              {primaryButtonText}
            </a>
          )}
          {secondaryButtonText && secondaryButtonLink && (
            <a
              href={secondaryButtonLink}
              class={`cta-btn cta-btn--secondary cta-btn--${backgroundColor}`}
            >
              {secondaryButtonText}
            </a>
          )}
        </div>
      )
    }
  </div>
</section>

<style>

  @reference "../../styles/tailwind.css";
  .cta-btn {
    @apply inline-block py-space-xs px-space-m rounded-pill no-underline font-medium transition-all duration-200;
  }

  /* Primary background buttons */
  .cta-btn--primary.cta-btn--primary {
    @apply bg-white;
    color: var(--color-primary);
  }

  .cta-btn--primary.cta-btn--primary:hover {
    @apply opacity-90;
  }

  .cta-btn--secondary.cta-btn--primary {
    @apply bg-transparent border-2 border-white text-white;
  }

  .cta-btn--secondary.cta-btn--primary:hover {
    @apply bg-white;
    color: var(--color-primary);
  }

  /* Secondary/Light background buttons */
  .cta-btn--primary.cta-btn--secondary,
  .cta-btn--primary.cta-btn--light,
  .cta-btn--primary.cta-btn--dark {
    @apply text-white;
    background: var(--color-primary);
  }

  .cta-btn--secondary.cta-btn--secondary,
  .cta-btn--secondary.cta-btn--light {
    @apply bg-transparent border-2;
    border-color: var(--color-primary);
    color: var(--color-primary);
  }

  /* Dark background secondary button */
  .cta-btn--secondary.cta-btn--dark {
    @apply bg-transparent border-2 border-white text-white;
  }
</style>
